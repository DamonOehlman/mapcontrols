<!DOCTYPE html>
<html>
<head>
	<title>Leaflet + Scale</title>
	<link rel="stylesheet" href="lib/leaflet/leaflet.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="lib/leaflet/leaflet.ie.css" /><![endif]-->
	<script src="lib/leaflet/leaflet.js"></script>
	<script src="lib/leaflet/leaflet-config.js"></script>
	<link rel="stylesheet" href="../dist/controls/scale.css" />
</head>
<body>
<div id="map" style="width: 600px; height: 600px; border: 1px solid #ccc"></div>
<script src="../dist/mapcontrols.js"></script>
<script src="../dist/controls/scale.js"></script>
<script type="text/javascript">
function updateScale() {
	var bounds = map.getBounds();
	
	scale.set('bounds', {
		min: bounds.getSouthWest(),
		max: bounds.getNorthEast()
	});
}

var cloudmade = new L.TileLayer(config.url, config),
	latlng = new L.LatLng(-27.46837362209769, 153.02405834197998),
	scale = MapControls.add(document.getElementById('map'), 'scale'),
	map = new L.Map('map', {
		center: latlng, 
		zoom: 15,
		zoomControl: false,
		layers: [cloudmade]
	});
	
map.on('viewreset', updateScale);
map.on('drag', updateScale);
updateScale();
</script>
</body>
</html>